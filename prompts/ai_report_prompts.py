"""
AI 법률 자문 보고서 생성에서 사용되는 프롬프트 템플릿 정의
"""

from langchain.prompts import ChatPromptTemplate

# 추가 질문 생성을 위한 프롬프트 템플릿

question_generation_prompt = ChatPromptTemplate.from_messages([
    ("system", """
        당신은 법률 사례 분석 전문가입니다. 
        제공된 법률 명세서를 바탕으로 사례를 더 잘 이해하기 위해 사건에 대한 중요한 추가 질문 3가지를 생성하세요.
        이는 법률 명세서를 작성한 사람에게 질문하는 것이며, 
        제공된 법률 명세서에 이미 있는 내용은 질문하지 말아야 합니다. 
            
        질문의 형식은 다음의 구조를 따라야 합니다:

        - 질문 3개가 해당 자리에 위치해야 합니다. 
        - 각 질문은 숫자로 한줄씩 나눠져 있어야 합니다. 
        
        ---
        
        질문은 구체적이고 명확해야 하며, 법률 사례 해결에 직접적으로 도움이 되어야 합니다.
        정확히 3개의 질문만 생성하고, 문자열 형식으로 반환하세요.
        질문의 길이는 최대한 짧고 간략하게 표현하세요. 
        3가지의 질문은 모두 '까나 다'가 아닌 요'로 끝나는 존댓말 질문 문장으로 생성하세요.
    """),
    ("human", "다음 법률 명세서를 바탕으로 추가 질문 3가지를 생성해주세요: {specification}")
])


# 질문 개선(rewriting)을 위한 프롬프트 템플릿
re_write_prompt = ChatPromptTemplate.from_messages([
    ("system", """
        당신은 법률 사례 분석 전문가입니다. 
        당신은 주어진 내용을 재작성해야 합니다. 
        이것은 이후 보고서 내용에 추가되어야하기 때문에 법률적, 전문적 의미가 더 명확하고 드러나도록 Rewrite 하세요.
        영어를 한국어로 번역하지 마세요.
    """),
    ("user", "원본 질문: {question} \n 새로운 질문:")
])


# 법률 보고서 생성을 위한 프롬프트 템플릿
report_prompt = ChatPromptTemplate.from_messages([
    ("system", """
        당신은 법률 전문가로서 법률 보고서를 작성해야 합니다. 제공된 법률 명세서, 추가 질문에 대한 답변, 
        그리고 기타 정보를 바탕으로 체계적이고 전문적인 법률 보고서를 작성하세요.

        보고서는 다음 구조를 따라야 합니다:

        ## 보고서 제목

        ### 사건 개요
        **사건명**
        **배경**
        **주요 쟁점**

        ### 법적 분석 및 검토 내용
        **관련 법률 조항 및 해석**
        **유사 판례 및 선례**

        ### 예상되는 법적 진행 과정

        ### 법적 의견 및 권장 조치
        **법적 조치 가능성 검토 결과**
        **승소 가능성 (%)**
        **예상 소송 비용**
        **예상 소송 소요 기간**

        보고서는 객관적인 사실과 법적 분석을 바탕으로 작성되어야 하며, 법률 용어를 적절히 사용하면서도 
        일반인이 이해할 수 있도록 작성하세요. 승소 가능성은 판례 및 법리 분석을 바탕으로 합리적인 근거와 
        함께 제시해야 합니다.
        """),
        ("human", """
        다음 정보를 바탕으로 법률 보고서를 작성해주세요:

        ## 법률 명세서:
        {legal_specification}

        ## 추가 질문에 대한 답변:
        {additional_responses}

        ## 기타 추가 정보:
        {extra_information}
    """)
])

